NIP-02
======

<<<<<<< HEAD
連絡先リストと愛称
-------------------------

`final` `optional`

「連絡先リスト」を意味するkind `3`の特別なイベントは、フォローしている/既知のプロフィールごとの`p`タグのリストを持つものとして定義される。
=======
Follow List
-----------

`final` `optional`

A special event with kind `3`, meaning "follow list" is defined as having a list of `p` tags, one for each of the followed/known profiles one is following.
>>>>>>> upstream/master

タグの個々の要素は、プロフィールの鍵・その鍵からのイベントを発見できるリレーのURL (必要なければ空文字列で設定可能) ・そのプロフィールのローカル名 (あるいは「愛称」) (空文字列が設定されるか、提供されないようできる) を含むべきで、つまり`["p", <32-bytes hex key>, <main relay URL>, <petname>]`である。`content`は何でもかまわないが、無視されるべきである。

例:

```json
{
  "kind": 3,
  "tags": [
    ["p", "91cf9..4e5ca", "wss://alicerelay.com/", "alice"],
    ["p", "14aeb..8dad4", "wss://bobrelay.com/nostr", "bob"],
    ["p", "612ae..e610f", "ws://carolrelay.com/ws", "carol"]
  ],
  "content": "",
  ...other fields
}
```

<<<<<<< HEAD
新しい子連絡先リストが公開されるたびに過去のものは上書きされるので、すべての要素を含むべきである。リレーとクライアントは新しいものを受け取ったら速やかに過去の連絡先リストを削除すべきである (SHOULD) 。
=======
Every new following list that gets published overwrites the past ones, so it should contain all entries. Relays and clients SHOULD delete past following lists as soon as they receive a new one.
>>>>>>> upstream/master

## 用途

<<<<<<< HEAD
### 連絡先リストのバックアップ
=======
### Follow list backup
>>>>>>> upstream/master

リレーがイベントを十分な期間保存すると信じているなら、このkind 3イベントを使ってフォローリストをバックアップし、別のデバイスで復元できる。

### プロフィールの発見とコンテキストの拡張

<<<<<<< HEAD
クライアントは、ブラウジングしているプロフィールがフォローしている人のリストを表示したり、フォローまたはブラウジングしている人の連絡先リストに基づいて誰をフォローするかの提案リストを作成したり、他のコンテキストでデータを表示したりするためにkind 3イベントを頼りにしてもかまわない。
=======
A client may rely on the kind-3 event to display a list of followed people by profiles one is browsing; make lists of suggestions on who to follow based on the follow lists of other people one might be following or browsing; or show the data in other contexts.
>>>>>>> upstream/master

### リレーの共有

<<<<<<< HEAD
クライアントは連絡先の完全なリストともにそれぞれの連絡先のために適したリレーを公開してもよく、これによりほかのクライアントは必要に応じてこれを内部のリレーリストの更新に使うことができ、検閲耐性が高まる。
=======
A client may publish a follow list with good relays for each of their follows so other clients may use these to update their internal relay lists if needed, increasing censorship-resistance.
>>>>>>> upstream/master

### 愛称スキーム

<<<<<<< HEAD
連絡先リストからのデータは、クライアントによってほかの人々の連絡先リストから派生したローカルの["petname"](http://www.skyhunter.com/marcs/petnames/IntroPetNames.html)テーブルを構築するために用いることができる。これにより、グローバルな人間が読める名前の必要性が軽減される。例えば:

ユーザーは次のような内部の連絡先リストを持っている。
=======
The data from these follow lists can be used by clients to construct local ["petname"](http://www.skyhunter.com/marcs/petnames/IntroPetNames.html) tables derived from other people's follow lists. This alleviates the need for global human-readable names. For example:

A user has an internal follow list that says
>>>>>>> upstream/master

```json
[
  ["p", "21df6d143fb96c2ec9d63726bf9edc71", "", "erin"]
]
```

<<<<<<< HEAD
そして、次のように2つの連絡先リストを受け取り、1つは`21df6d143fb96c2ec9d63726bf9edc71`からである。
=======
And receives two follow lists, one from `21df6d143fb96c2ec9d63726bf9edc71` that says
>>>>>>> upstream/master

```json
[
  ["p", "a8bb3d884d5d90b413d9891fe4c4e46d", "", "david"]
]
```

もう1つは`a8bb3d884d5d90b413d9891fe4c4e46d`からである。

```json
[
  ["p", "f57f54057d2a7af0efecc8b0b66f5708", "", "frank"]
]
```

ユーザーが`21df6d143fb96c2ec9d63726bf9edc71`を見るとき、クライアントは代わりに _erin_ を表示できる。
ユーザーが`a8bb3d884d5d90b413d9891fe4c4e46d`を見るとき、クライアントは代わりに _david.erin_ を表示できる。
ユーザーが`f57f54057d2a7af0efecc8b0b66f5708`を見るとき、クライアントは代わりに _frank.david.erin_ を表示できる。
