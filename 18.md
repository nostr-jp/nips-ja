NIP-18
======

リポスト
-------

`draft` `optional`

リポストは`kind 1`テキスト投稿が読む価値を持つことを
フォロワーへ知らせるために使われる`kind 6`イベントである。

<<<<<<< HEAD
リポストイベントの`content`は _リポストされた投稿を文字列化したJSON_ だ。これは空でもかまわない (MAY) が、推奨されない。
=======
The `content` of a repost event is _the stringified JSON of the reposted note_. It MAY also be empty, but that is not recommended.
Reposts of [NIP-70](70.md)-protected events SHOULD always have an empty `content`.
>>>>>>> upstream/master

リポストイベントはリポストされた投稿の`id`を持つ`e`タグを含まなければならない (MUST) 。
そのタグは投稿を取得可能な場所を指すリレーURLを
3番目の値として含まなければならない (MUST) 。

リポストはリポストされたイベントの`pubkey`を持つ`p`タグを
含めるべきだ (SHOULD) 。

## 引用リポスト

<<<<<<< HEAD
引用リポストはリポストされた投稿の`q`タグが埋め込まれた`kind 1`イベントである。
`q`タグは引用リポストがスレッドの返信として取り込まれないようにする。
また、これで投稿への全ての引用を簡単に取得し、カウントできる。

`q`タグは、`mark`引数の例外を除いて、NIP-10の`e`タグと同じ規則に従う必要がある。

`["q", <event-id>, <relay-url>, <pubkey>]`

引用リポストには、コンテンツにイベントの [NIP-21](21.md) `nevent`、`note`、または `naddr` を含める必要がある。
=======
Mentions to [NIP-21](21.md) entities like `nevent`, `note` and `naddr` on any
event must be converted into `q` tags. The `q` tag ensures quote reposts are
not pulled and included as replies in threads. It also allows you to easily
pull and count all of the quotes for a post. The syntax follows

`["q", "<event-id> or <event-address>", "<relay-url>", "<pubkey-if-a-regular-event>"]`
>>>>>>> upstream/master

## 汎用リポスト

`kind 6`のリポストは`kind 1`のコンテンツのために予約されているため、`kind 16`を
「汎用リポスト」として用い、これは`kind 1`以外のあらゆる種類のイベントを含めることが
できる。

<<<<<<< HEAD
`kind 16`のリポストは、リポストされたイベントの文字列化されたkind番号を値とする
`k`タグを含むべきだ (SHOULD) 。
=======
`kind 16` reposts SHOULD contain a `"k"` tag with the stringified kind number
of the reposted event as its value.

When reposting a replaceable event, the repost SHOULD include an `"a"` tag with
the event coordinate (`kind:pubkey:d-tag`) of the reposted event.

If the `"a"` tag is not present, it indicates that a specific version of a replaceable
event is being reposted, in which case the `content` field must contain the full
JSON string of the reposted event.
>>>>>>> upstream/master
